const fromText=document.querySelector(".from-text"),toText=document.querySelector(".to-text"),exchageIcon=document.querySelector(".exchange"),selectTag=document.querySelectorAll("select"),icons=document.querySelectorAll(".row i");translateBtn=document.querySelector("button"),selectTag.forEach((e,t)=>{for(let a in countries){let l=`<option ${0==t?"es-ES"==a?"selected":"":"en-GB"==a?"selected":""} value="${a}">${countries[a]}</option>`;e.insertAdjacentHTML("beforeend",l)}}),exchageIcon.addEventListener("click",()=>{let e=fromText.value,t=selectTag[0].value;fromText.value=toText.value,toText.value=e,selectTag[0].value=selectTag[1].value,selectTag[1].value=t}),fromText.addEventListener("keyup",()=>{fromText.value||(toText.value="")}),translateBtn.addEventListener("click",()=>{let e=fromText.value.trim(),t=selectTag[0].value,a=selectTag[1].value;if(e){toText.setAttribute("placeholder","Traduciendo...");fetch(`https://api.mymemory.translated.net/get?q=${e}&langpair=${t}|${a}`).then(e=>e.json()).then(e=>{toText.value=e.responseData.translatedText,e.matches.forEach(e=>{0===e.id&&(toText.value=e.translation)}),toText.setAttribute("placeholder","Traducci\xf3n")})}}),icons.forEach(e=>{e.addEventListener("click",({target:e})=>{if(fromText.value&&toText.value){if(e.classList.contains("fa-copy"))"from"==e.id?navigator.clipboard.writeText(fromText.value):navigator.clipboard.writeText(toText.value);else{let t;"from"==e.id?(t=new SpeechSynthesisUtterance(fromText.value)).lang=selectTag[0].value:(t=new SpeechSynthesisUtterance(toText.value)).lang=selectTag[1].value,speechSynthesis.speak(t)}}})});